<form [formGroup]="event" class="example-container">
  <div class="vertical-space"></div>
  <h1>Create Event</h1>

  <div class="example-form">
    <mat-form-field appearance="fill" class="example-half-width">
      <mat-label>Event Name</mat-label>
      <input matInput required id="name" type="text" formControlName="name" />
      <button mat-icon-button matSuffix>
        <mat-icon>celebration</mat-icon>
      </button>
    </mat-form-field>

    <mat-form-field appearance="fill" class="example-half-width">
      <mat-label>Category</mat-label>
      <mat-select formControlName="category">
        <mat-option value="Party">Party</mat-option>
        <mat-option value="Conference">Conference</mat-option>
        <mat-option value="Training">Training</mat-option>
      </mat-select>
      <button mat-icon-button matSuffix>
        <mat-icon>category</mat-icon>
      </button>
    </mat-form-field>

    <mat-form-field appearance="fill" class="example-full-width">
      <mat-label>Location</mat-label>
      <input
        matInput
        required
        id="location"
        type="text"
        formControlName="location"
      />
      <button mat-icon-button matSuffix>
        <mat-icon>location_on</mat-icon>
      </button>
    </mat-form-field>

    <mat-form-field color="accent" appearance="fill" class="example-half-width">
      <mat-label>Start Date</mat-label>
      <input matInput [matDatepicker]="picker1" formControlName="startDate" />
      <mat-datepicker-toggle matSuffix [for]="picker1"></mat-datepicker-toggle>
      <mat-datepicker #picker1></mat-datepicker>
    </mat-form-field>

    <mat-form-field color="accent" appearance="fill" class="example-half-width">
      <mat-label>End Date</mat-label>
      <input matInput [matDatepicker]="picker2" formControlName="endDate" />
      <mat-datepicker-toggle matSuffix [for]="picker2"></mat-datepicker-toggle>
      <mat-datepicker #picker2 color="primary"></mat-datepicker>
    </mat-form-field>

    <mat-form-field appearance="fill" class="example-full-width">
      <mat-label>Description</mat-label>
      <textarea
        matInput
        id="description"
        type="text"
        formControlName="description"
      ></textarea>
    </mat-form-field>
  </div>
  <h3>Cover Image</h3>
  <div class="image-selector">
    <mat-card class="example-card">
      <img
        mat-card-image
        src="http://www.canal2.md/media/2018/03/party.jpg"
        alt="Photo of a Shiba Inu"
      />
      <mat-card-actions>
        <button
          mat-button
          (click)="changeImage('http://www.canal2.md/media/2018/03/party.jpg')"
        >
          Select
        </button>
      </mat-card-actions>
    </mat-card>
    <mat-card class="example-card">
      <img
        mat-card-image
        src="https://grubstreetauthor.co.uk/wp-content/uploads/2020/02/london-business-meeting-in-progress.jpg"
        alt="Photo of a Shiba Inu"
      />
      <mat-card-actions>
        <button
          mat-button
          (click)="
            changeImage(
              'https://grubstreetauthor.co.uk/wp-content/uploads/2020/02/london-business-meeting-in-progress.jpg'
            )
          "
        >
          Select
        </button>
      </mat-card-actions>
    </mat-card>
    <mat-card class="example-card">
      <img
        mat-card-image
        src="https://smartplaces.eu/wordpress/wp-content/uploads/2017/11/FG_7275.jpg"
        alt="Photo of a Shiba Inu"
      />
      <mat-card-actions>
        <button
          mat-button
          (click)="
            changeImage(
              'https://smartplaces.eu/wordpress/wp-content/uploads/2017/11/FG_7275.jpg'
            )
          "
        >
          Select
        </button>
      </mat-card-actions>
    </mat-card>
  </div>
  <input
    #csvInput
    hidden="true"
    type="file"
    onclick="this.value=null"
    (change)="csvInputChange($event)"
    accept=".jpg"
  />
  <button mat-button (click)="csvInput.click()">Upload Custom Image</button>

  <!-- Attendies selection -->
  <mat-form-field appearance="fill" class="example-full-width">
    <mat-label>Attendees</mat-label>
    <mat-chip-list #chipList aria-label="attendee selection">
      <mat-chip
        *ngFor="let attendee of attendees"
        [selectable]="selectable"
        [removable]="removable"
        (removed)="remove(attendee)"
      >
        {{ attendee }}
        <mat-icon matChipRemove *ngIf="removable">cancel</mat-icon>
      </mat-chip>
      <input
        placeholder="New attendee..."
        #attendeeInput
        [formControl]="attendeeCtrl"
        [matAutocomplete]="auto"
        [matChipInputFor]="chipList"
        [matChipInputSeparatorKeyCodes]="separatorKeysCodes"
        (matChipInputTokenEnd)="add($event)"
      />
    </mat-chip-list>
    <mat-autocomplete
      #auto="matAutocomplete"
      (optionSelected)="selected($event)"
    >
      <mat-option
        *ngFor="let attendee of filteredAttendees | async"
        [value]="attendee"
      >
        {{ attendee }}
      </mat-option>
    </mat-autocomplete>
  </mat-form-field>

  <button mat-flat-button color="primary" (click)="submit()">
    Create Event
  </button>
</form>
